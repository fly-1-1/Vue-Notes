<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>vue系列课程</title>
</head>
<body>
<div id="app">
    <h1>{{msg}}</h1>
    <input type="text" v-model="item.id">
    <input type="text" v-model="item.name">
    <input type="text" v-model="item.price">
    <input type="text" v-model="item.num">
    <button @click="addItem">添加</button>
    <br>

    <table border="1" width="50%">
        <tr>
            <th>编号</th>
            <th>商品名称</th>
            <th>商品单价</th>
            <th>购买数量</th>
            <th>小计</th>
        </tr>
        <tr v-for="(v,i) in list">
            <td>{{v.id}}</td>
            <td>{{v.name}}</td>
            <td>{{v.price}}</td>
            <td><input type="button" value="-" @click="decrease(i)">{{v.num}}<input type="button" value="+" @click="increase(i)" ></td>
            <td>{{v.price * v.num}}</td>
        </tr>
    </table>
    <h3>总计：{{total}}</h3>
</div>
</body>
</html>
<script src="js/vue.js"></script>
<script>
    var app = new Vue({
        el: "#app",
        data: {
            msg: "购物车案例",
            item: {},
            list: [],
            total: 0
        },
        methods: {
            addItem() {
                // 判断是否有商品信息
                if (!this.item.id) {
                    alert("请先输入商品信息")
                    return;
                }
                this.list.push(this.item)
                this.item = {}
            },
            increase(i) {
                this.list[i].num++;
            },
            decrease(i){
                if(this.list[i].num<=1){
                    return;
                }
                this.list[i].num--;
            },

        }
    })
</script>